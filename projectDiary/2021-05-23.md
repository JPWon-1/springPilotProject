2) 네이버로 로그인하기
네이버 oAuth는 spring boot에서 제공해주는 기본 Provider가 아니기에 provider 등록을 해주어야 한다.

구글은 스프링부트에서 기본으로 제공해주는 provider를 쓰지만 네이버는 그렇지 않기 때문에 response값이 없어서 에러가 자꾸 났다.
이를 해결하기 위해 OAuth2UserInfo 인터페이스를 만들어 주었고,
```
public interface OAuth2UserInfo {
    String getProviderId();
    String getProvider();
    String getEmail();     
    String getName();
}
```
1) GoogleUserInfo implements OAuth2UserInfo
2) NaverUserInfo implements OAuth2UserInfo

그리고 OAuth2UserService 파일에서 loadUser 함수가 요청되었을 때, 
OAuth2UserRequest 안의 registrationId 가 google인지 naver인지 구분을 하고 이를 통해 
OAuth2UserInfo객체를 생성해준다.
```
OAuth2UserInfo oAuth2UserInfo = null;
if(userRequest.getClientRegistration().getRegistrationId().equals("google")){
    //구글 로그인 요청
    oAuth2UserInfo = new GoogleUserInfo(oauth2User.getAttributes());
}else if(userRequest.getClientRegistration().getRegistrationId().equals("naver")){
    oAuth2UserInfo = new NaverUserInfo((Map)oauth2User.getAttributes().get("response"));
}
```

아마 스프링부트에서 제공해주는 좀 더 현명한 방법이 있을것 같지만 우선은 이렇게 코드로 직접 구현해보았다.

TODO . JWT ( json web token ) 개념 공부 