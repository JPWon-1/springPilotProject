최근에 이 프로젝트에 신경을 못 쓰는 바람에 오랜만에 다시 문제에 접근해본다.

이전에 발생하였던 필터가 여러번 도는 문제중 하나로, script 나 css 나 img 도 각 하나의 요청으로 인식되어 이러한 요청들마다 모두 필터가 도는 문제였다.

그래서 webIgnoring에 이러한 경로들을 담아 이 문제는 해결하였다.

그러나 필터가 두번씩 도는 문제는 해결을 못하였다.

구글링을 해보아도 이러한 현상이 자주 발생하는 것을 확인할 수 있었다.(filter being called twice)

아직 해결 방법을 못알아냈다.


그냥 기존의 session 기반 로그인으로 회귀할지, 이 문제를 해결하고 jwt를 localStroage 에 저장해서 반환하는 방법으로 해결할지 고민이다.

사실, jwt를 반환하고 localStroage에 저장하는 것 까진 다 했지만 필터 문제를 해결하지 못한게 크다.

이 문제를 해결하고 추후에 보안쪽에 더 관심이 생기면 jwt를 memory나 아니면 요청마다 새로운 jwt를 반환해주는 여러 방법도 고려해보고 싶다.

우선은 현재 문제부터 해결하고....